آزمایش Master و Slave با آردوینو

هدف آزمایش:

هدف از این آزمایش ایجاد ارتباط بین دو آردوینو با استفاده از پروتکل I2C به طوری که یکی به عنوان مستر و دیگری به عنوان سلو عمل کند و اطلاعات از مستر به سلو ارسال شود.

وسایل مورد نیاز:

1. دو برد آردوینو 


2. سیم های جامپر


3. نرم‌افزار Arduino IDE برای برنامه‌نویسی و آپلود کد


4. کابل USB برای اتصال آردوینو به کامپیوتر



توضیح آزمایش:

در این آزمایش از پروتکل I2C استفاده شده است که به دستگاه‌ها امکان می‌دهد به صورت سریال داده‌ها را به یکدیگر ارسال و دریافت کنند. در این پروتکل یک دستگاه به عنوان "مستر" و دستگاه دیگر به عنوان "سلو" شناخته می‌شود. مستر مسئول ارسال فرمان و داده است و سلو داده‌ها را دریافت می‌کند.

اتصال سخت‌افزاری:

1. دو برد آردوینو به یکدیگر متصل شده‌اند.


2. پین‌های SDA (پین A4 در آردوینو Uno) و SCL (پین A5 در آردوینو Uno) به یکدیگر متصل می‌شوند.


3. پین‌های GND و VCC از هر دو برد آردوینو به یکدیگر متصل می‌شوند.



مراحل انجام آزمایش:

1. راه‌اندازی و برنامه‌نویسی:

دو کد جداگانه برای مستر و سلو نوشته شد. مستر به طور مداوم داده‌ای را به سلو ارسال می‌کند و سلو آن داده را دریافت کرده و نمایش می‌دهد.



2. کد Master: در کد مستر، با استفاده از کتابخانه Wire.h، ارتباط I2C آغاز شده و داده‌ای به صورت متنی به سلو ارسال می‌شود.

#include <Wire.h>

void setup() {
  Wire.begin();  // شروع ارتباط I2C به عنوان مستر
  Serial.begin(9600);
}

void loop() {
  Wire.beginTransmission(8);  // شروع ارتباط با اسلِو که آدرس 8 دارد
  Wire.write("Hello Slave");  // ارسال داده به اسلِو
  Wire.endTransmission();     // پایان ارتباط
  delay(1000);                // تاخیر یک ثانیه
}


3. کد Slave: در کد سلو، با استفاده از کتابخانه Wire.h و تنظیم آدرس 8 برای سلو، داده‌های دریافتی از مستر نمایش داده می‌شود.

#include <Wire.h>

void setup() {
  Wire.begin(8);             // آدرس اسلِو 8
  Wire.onReceive(receiveData); // تابع برای دریافت داده‌ها
  Serial.begin(9600);
}

void loop() {
  delay(100);
}

void receiveData(int byteCount) {
  while (Wire.available()) { // تا زمانی که داده‌ای دریافت شود
    char c = Wire.read();  // خواندن داده
    Serial.print(c);       // چاپ داده‌ها
  }
}


 پس از آپلود کدها روی هر دو آردوینو و اتصال سخت‌افزاری، دستگاه مستر به طور دوره‌ای پیام‌هایی را به سلو ارسال می‌کند. در این آزمایش، داده‌ها به صورت "Hello Slave" ارسال می‌شود.

روی دستگاه سلو، پنجره سریال باز می‌شود و داده‌های دریافتی نمایش داده می‌شود. هر بار که مستر پیام ارسال می‌کند، سلو پیام را در پنجره سریال نمایش می‌د

نتیجه‌گیری:

آزمایش با موفقیت انجام شد و داده‌ها از مستر به سلو به درستی ارسال و دریافت شدند.

این آزمایش نشان داد که می‌توان از پروتکل I2C برای ارتباط بین دو آردوینو استفاده کرد.

ارتباط مستر و سلو با ارسال داده‌ها از مستر و دریافت آن‌ها توسط سلو برقرار شد.


![IMG_20250106_004541_765](https://github.com/user-attachments/assets/cfa151a7-3f5a-4ce1-aa40-b7f9a98a6c40)
![IMG_20250106_004541_709](https://github.com/user-attachments/assets/cbc466ce-aa81-4e09-9364-d838728793a5)



https://github.com/user-attachments/assets/23156188-c9b7-4328-85b3-4433c6a58f26



